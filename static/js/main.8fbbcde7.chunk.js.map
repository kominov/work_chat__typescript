{"version":3,"sources":["conponents/MessagesList.module.css","conponents/Navbar/Navbar.module.css","constans/const.ts","store/flud.tsx","conponents/TimeOfAdded/TimeOfAdded.tsx","conponents/MessagesList.tsx","conponents/Flud/Flud.tsx","store/workMessages.tsx","conponents/WorkChat/WorkChat.tsx","conponents/routes.ts","conponents/Login/Login.tsx","conponents/AppRouter/AppRouter.tsx","conponents/Header/Header.tsx","conponents/Loader/Loader.tsx","conponents/Navbar/Navbar.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","WorkChatRoute","FludRoute","LoginRoute","flud","fludJSON","messages","map","msg","id","name","message","userPic","timeOfAdded","Date","now","makeAutoObservable","this","toString","filter","TimeOfAdded","declOfNum","titles","cases","number","Math","abs","timeCounter","useCallback","timeWasPassed","minutesWasPass","floor","hoursWasPass","minutes","hours","toLocaleString","MessagesList","delHandler","className","s","post","container","style","flexDirection","post__inner","user__pick","src","alt","marginRight","post__roll","post__header","user__name","del__msg","onClick","event","post__date","Flud","observer","reaction","JSON","stringify","FludMsg","json","localStorage","setItem","runInAction","getItem","Object","assign","parse","useEffect","ref","current","scrollIntoView","behavior","block","useRef","addHandler","addMessage","delMessage","placeholder","onKeyPress","key","value","type","workMessage","msgJSON","WorkChat","WorkChatMessages","window","scroll","publicRoutes","path","Component","auth","useContext","Context","login","a","provider","firebase","GoogleAuthProvider","signInWithPopup","Container","Grid","height","innerHeight","alignItems","justify","width","background","direction","Box","p","Button","variant","privateRoutes","AppRouter","useAuthState","user","component","exact","to","Header","signOut","Loader","Navbar","nav","nav__list","activeClassName","active","App","loading","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.8fbbcde7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"MessagesList_post__PYqHe\",\"container\":\"MessagesList_container__27Uwo\",\"post__inner\":\"MessagesList_post__inner__3lqT-\",\"post__header\":\"MessagesList_post__header__1HG5a\",\"post__roll\":\"MessagesList_post__roll__dMuUB\",\"user__pick\":\"MessagesList_user__pick__2Ez_X\",\"user__name\":\"MessagesList_user__name__3vR4D\",\"post__date\":\"MessagesList_post__date__2HA1r\",\"pre__header\":\"MessagesList_pre__header__3gm90\",\"del__msg\":\"MessagesList_del__msg__1oy96\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Bdg3\",\"nav__list\":\"Navbar_nav__list__GuO8w\",\"active\":\"Navbar_active__jUOZp\"};","export const WorkChatRoute = '/work_chat__typescript/';\r\nexport const FludRoute = '/flude';\r\nexport const LoginRoute = '/login';\r\nexport interface IWorkMessage {\r\n    name: string\r\n    id: string\r\n    message: string\r\n    userPic: string\r\n    timeOfAdded: number\r\n}","import { makeAutoObservable } from \"mobx\"\r\nimport fludJSON from '../flod.json'\r\n\r\nclass FludMsg {\r\n\r\n    flud = fludJSON.messages.map(msg => ({\r\n        id: msg.id,\r\n        name: msg.name,\r\n        message: msg.message,\r\n        userPic: msg.userPic,\r\n        timeOfAdded: Date.now(),\r\n    }))\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n    \r\n    addMessage(message: string) {\r\n        this.flud = [...this.flud, {\r\n            id: Date.now().toString(), name: 'Ваш будущий работник Михаил', message: message,\r\n            userPic: 'https://sun1-15.userapi.com/s/v1/ig2/6chUEVtI-0SII-R3ij2LN-ZvLlwV9f2PKNw813co4uSenSI8NuYL_Zsxj4j4DBK-Ta7wM5rLQopYZwAcHohgvqZR.jpg?size=50x0&quality=96&crop=0,70,1729,1729&ava=1',\r\n            timeOfAdded: Date.now()\r\n        }]\r\n    }\r\n\r\n    delMessage(id: string) {\r\n        this.flud = this.flud.filter(msg => msg.id !== id)\r\n    }\r\n}\r\nexport default new FludMsg()","import React, { useCallback } from 'react'\r\n\r\ninterface TimeOfAddedProps {\r\n    timeOfAdded: number;\r\n}\r\n\r\n\r\nexport const TimeOfAdded: React.FC<TimeOfAddedProps> = ({ timeOfAdded }) => {\r\n    function declOfNum(titles: string[]) {\r\n        let cases = [2, 0, 1, 1, 1, 2];\r\n        return function (number: number) {\r\n            number = Math.abs(number);\r\n            return titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n        }\r\n    }\r\n    const timeCounter = useCallback((timeOfAdded: number) => {\r\n        const arrayOfMinutes = [\"минуту\", \"минуты\", \"минут\"];\r\n        const arrayOfHours = [\"час\", \"часа\", \"часов\"];\r\n        let timeWasPassed = Date.now() - timeOfAdded;\r\n        let minutesWasPass = Math.floor(timeWasPassed / (1000 * 60));\r\n        let hoursWasPass = Math.floor(timeWasPassed / (1000 * 60 * 60));\r\n\r\n        if (minutesWasPass < 1) {\r\n            return `Отправлено:\\r\\n сейчас`\r\n        }\r\n        if (minutesWasPass >= 1 && minutesWasPass <= 59) {\r\n            let minutes = declOfNum(arrayOfMinutes);\r\n            return (`Отправлено:\\r\\n ${minutesWasPass} ${minutes(minutesWasPass)} назад`)\r\n        }\r\n        if (hoursWasPass >= 1 && hoursWasPass < 24) {\r\n            let hours = declOfNum(arrayOfHours);\r\n            return (`Отправлено:\\r\\n ${hoursWasPass} ${hours(hoursWasPass)} назад`)\r\n        }\r\n        if (hoursWasPass >= 24) return (`Добавлено:\\r\\n ${new Date(timeOfAdded).toLocaleString()}`);\r\n    }, []);\r\n\r\n\r\n\r\n    return (<>\r\n        {timeCounter(timeOfAdded)}\r\n    </>)\r\n}","import React from 'react'\r\nimport { TimeOfAdded } from './TimeOfAdded/TimeOfAdded'\r\nimport { IWorkMessage } from '../constans/const'\r\nimport s from './MessagesList.module.css'\r\ninterface Props {\r\n    messages: IWorkMessage[]\r\n    delHandler: (id: string) => void\r\n}\r\n\r\nexport const MessagesList: React.FC<Props> = ({ messages, delHandler }) => {\r\n\r\n    return (<>\r\n        <ul>\r\n            {messages.map(message => {\r\n\r\n\r\n\r\n                return (\r\n                    <div className={s.post} key={message.id}>\r\n                        <div className={s.container}>\r\n                            <div style={{ flexDirection: message.name === \"Ваш будущий работник Михаил\" ? 'row' : 'row-reverse' }} className={s.post__inner}>\r\n                                <img className={s.user__pick} src={message.userPic} alt=\"userpic\" />\r\n                                <div style={{marginRight:message.name === \"Ваш будущий работник Михаил\"?'0':'20px'}} className={s.post__roll}>\r\n                                    <div className={s.post__header}>\r\n                                        <div className={s.user__name}>{message.name}</div>\r\n                                        <div className={s.del__msg} onClick={event => delHandler(message.id)}>Удалить</div>\r\n                                    </div>\r\n                                    <div className={s.post}>{message.message}</div>\r\n                                    <div className={s.post__date}><TimeOfAdded timeOfAdded={message.timeOfAdded} /> </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })}\r\n        </ul>\r\n\r\n    </>)\r\n}","import React, { useEffect, useRef } from 'react'\r\nimport FludMsg from '../../store/flud'\r\nimport { observer } from 'mobx-react-lite';\r\nimport { MessagesList } from '../MessagesList';\r\nimport { reaction, runInAction } from 'mobx';\r\n\r\n\r\nexport const Flud: React.FC = observer(() => {\r\n\r\n    //загружаем и забираем стор в локалСторедж\r\n    reaction(() => JSON.stringify(FludMsg.flud),\r\n        json => { localStorage.setItem('flud', json); })\r\n    runInAction(() => {\r\n        let json = localStorage.getItem('flud');\r\n        if (json) Object.assign(FludMsg.flud, JSON.parse(json));\r\n    })\r\n    //обрабатываем прокрутку скорлла к началу ввода сообщений\r\n    const handlScroll = () => {\r\n        if (ref.current) {\r\n            ref.current.scrollIntoView({\r\n                behavior: 'auto',\r\n                block: 'start',\r\n            })\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        handlScroll();\r\n    })\r\n    //забираем сообщение по Enter из инпута\r\n    const ref = useRef<HTMLInputElement>(null)\r\n    const keyPressHandler = (event: React.KeyboardEvent) => {\r\n        if (event.key === \"Enter\" && ref.current) {\r\n            addHandler(ref.current.value);\r\n            ref.current!.value = \"\";\r\n        }\r\n    }\r\n    //добавляем сообщение в стор\r\n    const addHandler = (message: string) => {\r\n        FludMsg.addMessage(message)\r\n    }\r\n    //удаляем сообщение\r\n    const delHandler = (id: string) => {\r\n        FludMsg.delMessage(id)\r\n    }\r\n    return (<>\r\n        <div className=\"col s10\">\r\n            <div className=\"messeges\">\r\n                <MessagesList messages={FludMsg.flud} delHandler={delHandler} />\r\n                <input ref={ref} placeholder=\"Введите сообщение\" onKeyPress={keyPressHandler} type=\"text\" />\r\n            </div>\r\n        </div>\r\n\r\n    </>)\r\n})","import { makeAutoObservable } from \"mobx\"\r\nimport msgJSON from '../workChat.json'\r\n\r\n class WorkChatMessages {\r\n\r\n    workMessage = msgJSON.messages.map(msg => ({\r\n        id: msg.id,\r\n        name: msg.name,\r\n        message: msg.message,\r\n        userPic: msg.userPic,\r\n        timeOfAdded: Date.now(),\r\n    }))\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    addMessage(message: string) {\r\n        this.workMessage = [...this.workMessage, {\r\n            id: Date.now().toString(), name: 'Ваш будущий работник Михаил', message: message,\r\n            userPic: 'https://sun1-15.userapi.com/s/v1/ig2/6chUEVtI-0SII-R3ij2LN-ZvLlwV9f2PKNw813co4uSenSI8NuYL_Zsxj4j4DBK-Ta7wM5rLQopYZwAcHohgvqZR.jpg?size=50x0&quality=96&crop=0,70,1729,1729&ava=1',\r\n            timeOfAdded: Date.now()\r\n        }]\r\n    }\r\n\r\n    delMessage(id: string) {\r\n        this.workMessage = this.workMessage.filter(msg => msg.id !== id)\r\n    }\r\n}\r\nexport default new WorkChatMessages()","import React, { useEffect, useRef } from 'react'\r\nimport { MessagesList } from '../MessagesList';\r\nimport WorkChatMessages from '../../store/workMessages'\r\n\r\nimport { observer } from 'mobx-react-lite';\r\nimport { reaction, runInAction } from 'mobx';\r\n\r\nexport const WorkChat: React.FC = observer(() => {\r\n\r\n    //загружаем и забираем стор в локалСторедж\r\n    reaction(() => JSON.stringify(WorkChatMessages.workMessage),\r\n        json => { localStorage.setItem('workChat', json); })\r\n    runInAction(() => {\r\n        let json = localStorage.getItem('workChat');\r\n        if (json) Object.assign(WorkChatMessages.workMessage, JSON.parse(json));\r\n    })\r\n    //обрабатываем прокрутку скорлла к началу ввода сообщений\r\n    const handleClick = () => {\r\n        if (ref.current) {\r\n            ref.current.scrollIntoView({\r\n                behavior: 'auto',\r\n                block: 'start',\r\n            })\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        handleClick();\r\n    })\r\n    //забираем сообщение по Enter из инпута\r\n    const ref = useRef<HTMLInputElement>(null)\r\n    const keyPressHandler = (event: React.KeyboardEvent) => {\r\n        ref.current!.scrollIntoView({ behavior: 'smooth', block: 'end' })\r\n        if (event.key === \"Enter\" && ref.current) {\r\n            addHandler(ref.current.value);\r\n            ref.current.value = \"\";\r\n            window.scroll(0, 100);\r\n\r\n        }\r\n    }\r\n     //добавляем сообщение в стор\r\n    const addHandler = (message: string) => {\r\n        WorkChatMessages.addMessage(message)\r\n    }\r\n    //удаляем сообщение\r\n    const delHandler = (id: string) => {\r\n        WorkChatMessages.delMessage(id)\r\n    }\r\n    return (<>\r\n        <div className=\"col s10\">\r\n            <div className=\"messeges\">\r\n                <MessagesList messages={WorkChatMessages.workMessage} delHandler={delHandler} />\r\n                <input ref={ref} placeholder=\"Введите сообщение\" onKeyPress={keyPressHandler} type=\"text\" />\r\n            </div>\r\n        </div>\r\n\r\n    </>)\r\n})","import { Flud } from './Flud/Flud';\r\nimport { FludRoute, WorkChatRoute } from './../constans/const';\r\nimport { WorkChat } from './WorkChat/WorkChat';\r\nimport { LoginRoute } from '../constans/const';\r\nimport { Login } from './Login/Login';\r\n\r\nexport const publicRoutes =[\r\n    {\r\n        path:LoginRoute,\r\n        Component: Login\r\n    }\r\n]\r\nexport const privateRoutes=[\r\n    {\r\n        path:WorkChatRoute,\r\n        Component: WorkChat\r\n    },\r\n    {\r\n        path:FludRoute,\r\n        Component: Flud\r\n    }\r\n]\r\n\r\n","import { Container, Grid, Box, Button } from '@material-ui/core';\r\nimport firebase from 'firebase';\r\nimport React from 'react';\r\nimport { useContext } from 'react';\r\nimport { Context } from '../..';\r\n\r\n\r\nexport const Login: React.FC = () => {\r\n    const { auth } = useContext(Context)\r\n    const login = async()=>{\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        await auth.signInWithPopup(provider);\r\n    }\r\n    return (\r\n        <>\r\n            <div>\r\n                <Container>\r\n                    <Grid container\r\n                        style={{ height: window.innerHeight - 200 }}\r\n                        alignItems={'center'}\r\n                        justify={'center'}\r\n                    >\r\n                        <Grid style={{ width: 400, background: 'lightgray' }}\r\n                            container\r\n                            alignItems={'center'}\r\n                            direction={'column'}\r\n                        >\r\n                            <Box p={5}>\r\n                                <Button onClick={login} variant={'outlined'}>Войти с помощью Google</Button>\r\n                            </Box>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Container>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { useContext } from 'react';\r\nimport { Route, Switch } from 'react-router';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Context } from '../..';\r\nimport { LoginRoute, WorkChatRoute } from '../../constans/const';\r\nimport { privateRoutes, publicRoutes } from '../routes';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\n\r\nexport const AppRouter: React.FC = () => {\r\n    const {auth} = useContext(Context)\r\n    const [user] = useAuthState(auth);\r\n    \r\n    return (<>\r\n        {user ?\r\n        (\r\n        <Switch>\r\n            {privateRoutes.map(({ path, Component }) =>\r\n                <Route key={path} path={path} component={Component} exact={true} />\r\n            )}\r\n            <Redirect to={WorkChatRoute}/>\r\n        </Switch>\r\n            ) :\r\n            (\r\n        <Switch>\r\n            {publicRoutes.map(({ path, Component }) =>\r\n                <Route key={path} path={path} component={Component} exact={true} />\r\n            )}\r\n            <Redirect to={LoginRoute} />\r\n        </Switch>\r\n            )}\r\n    </>);\r\n};\r\n\r\n\r\n\r\n","import React, { useContext } from 'react'\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { Context } from '../..'\r\nimport { LoginRoute, WorkChatRoute } from '../../constans/const'\r\n\r\nexport const Header: React.FC = () => {\r\n    const { auth } = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n\r\n    return (<>\r\n        <nav>\r\n            <div className=\"nav-wrapper grey darken-1 pd__1\">\r\n                <NavLink to={WorkChatRoute} className=\"brand-logo\">Planktonics</NavLink>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    {user ? (\r\n                        <li><button onClick={() => auth.signOut()} className=\"grey lighten-1 btn-small\">Выйти</button></li>\r\n                    ) : (\r\n                        <NavLink to={LoginRoute}>\r\n                            <li><button style={{ marginRight: '5px' }} className=\"grey lighten-1 btn-small\">Логин</button></li>\r\n                        </NavLink>\r\n\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    </>)\r\n}","import { Container, Grid} from '@material-ui/core'\r\nimport React from 'react'\r\n\r\nexport const Loader:React.FC =()=>{\r\n    return (<>\r\n    <Container>\r\n                    <Grid container\r\n                        style={{ height: window.innerHeight - 200 }}\r\n                        alignItems={'center'}\r\n                        justify={'center'}\r\n                    >\r\n                        <Grid \r\n                            container\r\n                            alignItems={'center'}\r\n                            direction={'column'}\r\n                        >\r\n                            <div className=\"lds-hourglass\"></div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Container>\r\n    </>)\r\n}","import React from 'react';\r\nimport { useContext } from 'react';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Context } from '../..';\r\nimport { FludRoute, WorkChatRoute } from '../../constans/const';\r\nimport s from './Navbar.module.css';\r\n\r\n\r\nexport const Navbar: React.FC = () => {\r\n    const { auth } = useContext(Context)\r\n    const [user] = useAuthState(auth);\r\n    return (<>\r\n        {user ? (<div className=\"col s2\">\r\n            <div className={s.nav}>\r\n                <ul className={s.nav__list}>\r\n                    <li><NavLink to={WorkChatRoute} activeClassName={s.active}>Рабочий чат</NavLink></li>\r\n                    <li><NavLink to={FludRoute} activeClassName={s.active}>Messages</NavLink></li>\r\n                </ul>\r\n            </div>\r\n        </div>) : ''}\r\n    </>)\r\n}\r\n\r\n","import React, { useContext } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { BrowserRouter} from 'react-router-dom';\nimport { Context } from '.';\nimport { AppRouter } from './conponents/AppRouter/AppRouter';\n\nimport { Header } from './conponents/Header/Header';\nimport { Loader } from './conponents/Loader/Loader';\nimport { Navbar } from './conponents/Navbar/Navbar';\n\n\nfunction App() {\n  const { auth } = useContext(Context)\n  const [user, loading, error] = useAuthState(auth)\n\n  if(loading){\n    return <Loader />\n  }\n  return (\n    <BrowserRouter>\n      <Header />\n      <div className=\"container row\">\n        <Navbar />\n        <AppRouter/>\n        {/* <Route path={WorkChatRoute} exact render={() => <WorkChat />} />\n        <Route path={FludRoute} render={() => <Flud />} /> */}\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from 'firebase'\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyDPQGyEI7f2ZZCkvXQBQKAKMFUqUdR6A8c\",\n  authDomain: \"react-firebase-real-time-chat.firebaseapp.com\",\n  projectId: \"react-firebase-real-time-chat\",\n  storageBucket: \"react-firebase-real-time-chat.appspot.com\",\n  messagingSenderId: \"531789765270\",\n  appId: \"1:531789765270:web:24addb0a92d35e3beb40b7\",\n  measurementId: \"G-MMVJMCHVQK\"\n});\n\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\nexport const Context = createContext({ auth, firestore, firebase });\n\nReactDOM.render(\n  <React.StrictMode>\n    <Context.Provider value={{\n      firestore,\n      firebase,\n      auth\n    }}>\n      <App />\n    </Context.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}